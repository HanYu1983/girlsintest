<html>
	<head>
		<script src="jquery-1.7.2.js"></script>
		<script src="sketchfab-iframe.js"></script>
	</head>
	<body>
		<input id="inp_uid"/>
		<button id="btn_add">add new one</button>
	</body>
	<script>
	
	
	var sketchfabModule = window['sketchfab-iframe'];
	var moduleVersion = sketchfabModule.version;
	
	var Sketchfab = sketchfabModule.Sketchfab;
	var Q = sketchfabModule.Q;
	var options = {
		autospin:.3,
		"nocamera": 1,
		"transparent": 0,
		"controls": 1,
		"watermark":1,
		"desc_button":1,
		"stop_button":1
	};
	
	var ary_id = [];
	var ary_api = {};
	var inp_uid = $('#inp_uid');
	
	$('#btn_add' ).click( function(){
		var uid = inp_uid.val();
		ary_id.push( uid );
		genIframe( uid );
		inp_uid.val( '' );
	});
	
	function genIframe( uid ){
		if( ary_api[uid] != undefined ){
			alert( '已經加過了' );
			return;
		}
		var container = $('<div></div>' );
		
		var iframe = $('<iframe></iframe>' );
		iframe[0].width = 400;
		iframe[0].height = 320;
		/*
		var btn_start = $('<button id="btn_' + uid + '">start</button>' );
		btn_start.click( function(){
			ary_api[$( this ).attr( 'id' )].start();
		});
		*/
		var btn_delete = $('<button id="btn_delete_' + uid + '" >delete</button>' );
		btn_delete.click( function(){
			var idstr = $( this ).attr( 'id' );
			var uidstr = idstr.substring( 'btn_delete_'.length, idstr.length );
			var _iframeContainer = ary_api[uidstr].iframeContainer;
			document.body.removeChild( _iframeContainer[0] );
			
			delete ary_api[uidstr];
		});
		container.append( iframe ).append( btn_delete );
		
		document.body.appendChild( container[0] );
		var api = new Sketchfab(iframe[0]);
		ary_api[uid] = {api:api, iframeContainer:container};
		
		Q.when( api.load( uid, options )).then( function ( data ){
			//ary_api[data.source].start();
		});
	}
	</script>
</html>